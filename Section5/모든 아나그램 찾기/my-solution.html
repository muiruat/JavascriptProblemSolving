<html>
  <head>
    <meta charset="UTF-8" />
    <title>출력결과</title>
  </head>
  <body>
    <script>
      function solution(str1, str2) {
        let answer = 0;

        const map = new Map();

        for (let x of str2) {
          if (map.has(x)) {
            map.set(x, map.get(x) + 1);
          } else {
            map.set(x, 1);
          }
        }

        for (let i = 0; i < str1.length - str2.length; i++) {
          const temp = new Map(map);

          let flag = true;

          for (let j = 0; j < str2.length; j++) {
            if (!temp.has(str1[i + j]) || temp.get(str1[i + j]) === 0) {
              flag = false;
            } else {
              temp.set(temp.get(str1[i + j]), temp.get(str1[i + j]) - 1);
            }
          }

          if (flag) {
            answer++;
          }
        }

        return answer;
      }

      const str1 = 'bacaAacba';
      const str2 = 'abc';

      console.log(solution(str1, str2));
    </script>
  </body>
</html>
